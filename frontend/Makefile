.PHONY: help install dev build test lint format clean

help:
	@echo "Frontend - Development Commands"
	@echo "==============================="
	@echo ""
	@echo "Setup Commands:"
	@echo "  make install            - Install dependencies"
	@echo ""
	@echo "Development Commands:"
	@echo "  make dev                - Start development server"
	@echo "  make build              - Build for production"
	@echo "  make preview            - Preview production build"
	@echo ""
	@echo "Quality Commands:"
	@echo "  make test               - Run tests"
	@echo "  make test-ui            - Run tests with UI"
	@echo "  make test-coverage      - Run tests with coverage"
	@echo "  make lint               - Lint code"
	@echo "  make format             - Format code"
	@echo "  make type-check         - Type checking"
	@echo ""
	@echo "Cleanup Commands:"
	@echo "  make clean              - Remove build and cache files"
	@echo "  make clean-deps         - Remove node_modules"

# Setup
install:
	@echo "ğŸ“¦ Installing dependencies..."
	npm install
	@echo "âœ… Dependencies installed"

# Development
dev:
	@echo "ğŸš€ Starting development server..."
	npm run dev

build:
	@echo "ğŸ”¨ Building for production..."
	npm run build
	@echo "âœ… Build complete"

preview:
	@echo "ğŸ‘€ Previewing production build..."
	npm run preview

# Testing
test:
	@echo "ğŸ§ª Running tests..."
	npm run test

test-ui:
	@echo "ğŸ§ª Running tests with UI..."
	npm run test:ui

test-coverage:
	@echo "ğŸ“Š Running tests with coverage..."
	npm run test:coverage
	@echo "âœ… Coverage report generated"

# Code Quality
lint:
	@echo "ğŸ” Linting code..."
	npm run lint
	@echo "âœ… Linting complete"

format:
	@echo "âœ¨ Formatting code..."
	npm run format
	@echo "âœ… Formatting complete"

type-check:
	@echo "ğŸ” Type checking..."
	npm run type-check
	@echo "âœ… Type checking complete"

quality: lint format type-check
	@echo "âœ… All quality checks passed"

# Cleanup
clean:
	@echo "ğŸ§¹ Removing build and cache files..."
	rmdir /s /q dist 2>nul || true
	rmdir /s /q .vite 2>nul || true
	rmdir /s /q coverage 2>nul || true
	del /q .DS_Store 2>nul || true
	@echo "âœ… Cleanup complete"

clean-deps:
	@echo "ğŸ—‘ï¸ Removing node_modules..."
	rmdir /s /q node_modules 2>nul || true
	del /q package-lock.json 2>nul || true
	@echo "âœ… Dependencies removed"

# Status
status:
	@echo "ğŸ“Š Frontend Status"
	@echo "=================="
	@if exist "node_modules" (echo "âœ… Dependencies installed") else (echo "âŒ Dependencies not installed")
	@if exist "dist" (echo "âœ… Build exists") else (echo "âŒ Build missing")
	@echo ""
	@echo "Run 'make install' to set up the environment"
